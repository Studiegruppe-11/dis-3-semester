<!DOCTYPE html>
<html>
<head>
  <title>Image Upload</title>
  <link rel="stylesheet" href="../styles/imageUpload.css" />

   
</head>
<body>
  <div class="container">
    <form id="uploadForm" class="upload-form" enctype="multipart/form-data">
      <input type="file" name="image" multiple onchange="previewImages()">
      <div class="preview-images" id="preview"></div>
      <div class="button-container">
        <button type="submit" class="button">Upload Image</button>
        <button type="button" onclick="location.href='/admin'" class="button back-button">Back to Admin</button>
      </div>
    </form>
    <div id="uploadStatus"></div>
  </div>
  <script src="/scripts/upload.js"></script>
  <script>
    function previewImages() {
      var preview = document.getElementById('preview');
      preview.innerHTML = '';
      if (this.files) {
        [].forEach.call(this.files, readAndPreview);
      }

      function readAndPreview(file) {
        // Make sure `file.name` matches our extensions criteria
        if (!/\.(jpe?g|png|gif)$/i.test(file.name)) {
          return alert(file.name + " is not an image");
        } 

        var reader = new FileReader();

        reader.addEventListener("load", function() {
          var image = new Image();
          image.height = 100;
          image.title = file.name;
          image.src = this.result;
          preview.appendChild(image);
        });

        reader.readAsDataURL(file);
      }
    }
    
    document.querySelector('input[type=file]').addEventListener('change', previewImages);
  </script>
</body>
</html>
